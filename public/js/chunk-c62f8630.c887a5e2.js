(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c62f8630"],{"0759":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("hero-category"),a("grid-header-category",{attrs:{totalProducts:t.totalProducts},on:{totalPerPage:t.totalPerPage}}),a("div",{staticClass:"product container"},t._l(t.products,(function(t,e){return a("product-category",{key:e,attrs:{content:t}})})),1),a("Pagination",{attrs:{totalProducts:t.totalProducts,totalProductsPerPage:t.totalProductsPerPage},on:{updateProductsOnPageChange:t.updateProductsOnPageChange}})],1)},s=[],n=(a("96cf"),a("1da1")),o=a("bc3a"),c=a.n(o),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"container"},[a("ol",{staticClass:"breadcrumb justify-content-center"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{attrs:{to:{name:"home"}}},[t._v("Home")])],1),a("li",{staticClass:"breadcrumb-item active"},[t._v(t._s(t.capitalize))])]),a("div",{staticClass:"hero-content pb-5 text-center"},[a("h1",{staticClass:"hero-heading"},[t._v(t._s(t.$route.params.cat))])])])])},u=[],l=(a("fb6a"),{name:"HeroCategory",computed:{capitalize:function(){var t=this.$route.params.cat.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}}}),d=l,g=a("2877"),p=Object(g["a"])(d,i,u,!1,null,null,null),P=p.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("article",{staticClass:"container header-category"},[a("header",{staticClass:"product-grid-header"},[a("div",{staticClass:"mr-3 mb-3"},[t._v(" Mostrando "),t.perPage<t.totalProducts?a("strong",[t._v(t._s(t.perPage)+" ")]):t._e(),t._v(" "),t.perPage<t.totalProducts?a("span",[t._v("de")]):t._e(),t._v(" "),a("strong",[t._v(t._s(t.totalProducts)+" ")]),t._v("productos ")]),a("div",{staticClass:"mr-3 mb-3"},[a("span",{staticClass:"mr-2"},[t._v("Mostrar")]),t._l(t.totalPerPage,(function(e,r){return a("button",{key:r,staticClass:"page-link product-grid-header-show ",class:{active:e===t.perPage},on:{click:function(a){return t.handleTotal(e)}}},[t._v(t._s(e))])}))],2)])])},h=[],m={name:"GridHeaderCategory",props:["totalProducts"],data:function(){return{totalPerPage:[5,10,20,40],perPage:20}},methods:{handleTotal:function(t){this.perPage=t,this.$emit("totalPerPage",t)}}},v=m,b=Object(g["a"])(v,f,h,!1,null,null,null),C=b.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"d-flex justify-content-center mb-5 mt-3",attrs:{"aria-label":"page navigation"}},[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item"},[a("button",{staticClass:"page-link",attrs:{"aria-label":"Previous"},on:{click:t.back}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Anterior")])])]),t._l(t.getPages,(function(e,r){return a("li",{key:r,staticClass:"page-item",class:{active:r===t.currentPage}},[a("button",{staticClass:"page-link",on:{click:function(e){return t.handlePage(r)}}},[t._v(t._s(r+1))])])})),a("li",{staticClass:"page-item"},[a("button",{staticClass:"page-link",attrs:{"aria-label":"Next"},on:{click:t.next}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Siguiente")])])])],2)])])},y=[],k={name:"Pagination",props:["totalProducts","totalProductsPerPage"],data:function(){return{currentPage:0}},watch:{currentPage:function(t){t<=0&&(this.currentPage=0),t>=this.getPages.length&&(this.currentPage=this.getPages.length-1),this.updateProductsOnPageChange()}},computed:{getPages:function(){var t=this.totalProducts/this.totalProductsPerPage;return new Array(Math.ceil(t))}},methods:{back:function(){this.currentPage-=1},next:function(){this.currentPage+=1},updateProductsOnPageChange:function(){this.$emit("updateProductsOnPageChange",this.currentPage)},handlePage:function(t){this.currentPage=t}}},x=k,w=Object(g["a"])(x,_,y,!1,null,null,null),O=w.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("article",[a("div",{staticClass:"col-xl-4 col-sm-6"},[a("div",{staticClass:"product mx-4"},[a("div",{staticClass:"product-image"},[t.content.promotionOn&&!t.isOffertsURL?a("div",{staticClass:"ribbon ribbon-primary"},[t._v("Oferta")]):t._e(),t.content.accesory?a("div",{staticClass:"ribbon ribbon-info"},[t._v("Accesorio")]):t._e(),0===t.content.totalStock?a("div",{staticClass:"ribbon ribbon-danger"},[t._v("Sold out")]):t._e(),a("img",{staticClass:"img",attrs:{src:t.content.img,alt:"product"}}),a("div",{staticClass:"product-hover-overlay"},[a("router-link",{attrs:{to:t.getRoute}}),a("div",{staticClass:"product-hover-overlay-buttons"},[a("router-link",{staticClass:"btn btn-dark btn-buy",attrs:{to:t.getRoute}},[a("i",{staticClass:"fa-search fa"}),a("span",{staticClass:"btn-buy-label ml-2"},[t._v("Ver")])])],1)],1)]),a("div",{staticClass:"py-4"},[a("h3",{staticClass:"h6 text-uppercase mb-1"},[a("router-link",{staticClass:"text-dark",attrs:{to:t.getRoute}},[t._v(" "+t._s(t.content.name)+" ")])],1),a("span",{staticClass:"text-muted"},[t._v(t._s(t.content.salePrice)+"â‚¬")])])])])])},A=[],R={name:"ProductCategory",props:["content"],computed:{getRoute:function(){return{path:"/i/"+this.$route.params.cat+"/"+this.content.referenceNumberCommon}},isOffertsURL:function(){return"ofertas"===this.$route.params.cat}}},j=R,E=(a("d3fb"),Object(g["a"])(j,$,A,!1,null,"298e6089",null)),S=E.exports,H=a("4a9d"),B={name:"Category",components:{HeroCategory:P,ProductCategory:S,Pagination:O,GridHeaderCategory:C},data:function(){return{products:[],from:0,totalProducts:0,totalProductsPerPage:20}},methods:{getProducts:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"ofertas"!==e.$route.params.cat){t.next=10;break}return a="https://www.macalola.com/offers",t.next=5,c.a.get(a,{params:{from:e.from,total:e.totalProductsPerPage}});case 5:r=t.sent,e.totalProducts=r.data.productsDB.length,e.products=r.data.productsDB,t.next=16;break;case 10:return s="https://www.macalola.com/bycategory/"+e.$route.params.cat,t.next=13,c.a.get(s,{params:{from:e.from,total:e.totalProductsPerPage}});case 13:n=t.sent,e.totalProducts=n.data.productsDB.length,e.products=n.data.productsDB;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](0),console.log("error",t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))()},updateProductsOnPageChange:function(t){this.from=19*t,this.getProducts()},totalPerPage:function(t){this.totalProductsPerPage=t,this.getProducts()}},created:function(){var t=this;H["a"].$on("refresh",(function(){t.getProducts()})),this.getProducts()}},D=B,M=(a("b552"),Object(g["a"])(D,r,s,!1,null,"3a207734",null));e["default"]=M.exports},"4a9d":function(t,e,a){"use strict";var r=a("2b0e"),s=new r["default"];e["a"]=s},"774e":function(t,e,a){},b552:function(t,e,a){"use strict";var r=a("774e"),s=a.n(r);s.a},d3fb:function(t,e,a){"use strict";var r=a("d9fe"),s=a.n(r);s.a},d9fe:function(t,e,a){},fb6a:function(t,e,a){"use strict";var r=a("23e7"),s=a("861d"),n=a("e8b5"),o=a("23cb"),c=a("50c4"),i=a("fc6a"),u=a("8418"),l=a("b622"),d=a("1dde"),g=a("ae40"),p=d("slice"),P=g("slice",{ACCESSORS:!0,0:0,1:2}),f=l("species"),h=[].slice,m=Math.max;r({target:"Array",proto:!0,forced:!p||!P},{slice:function(t,e){var a,r,l,d=i(this),g=c(d.length),p=o(t,g),P=o(void 0===e?g:e,g);if(n(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?s(a)&&(a=a[f],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return h.call(d,p,P);for(r=new(void 0===a?Array:a)(m(P-p,0)),l=0;p<P;p++,l++)p in d&&u(r,l,d[p]);return r.length=l,r}})}}]);
//# sourceMappingURL=chunk-c62f8630.c887a5e2.js.map